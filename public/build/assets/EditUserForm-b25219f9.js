import{v as V,c as S,w as d,o as m,f as u,t as n,a as e,d as _,g,l as y,m as k,F as v,b as i,u as o,y as C,n as R}from"./app-262a2786.js";import{_ as M}from"./ActionMessage-10225983.js";import{_ as O}from"./FormSection-8e6c7726.js";import{_ as f}from"./InputError-5f2d5f55.js";import{_ as c}from"./InputLabel-0afd5ac9.js";import{_ as $}from"./PrimaryButton-a709ea04.js";import{_ as N}from"./SecondaryButton-d3277a63.js";import{_ as h}from"./TextInput-bbe8df5b.js";import{T as E}from"./ToggleButton-2e04d601.js";import{s as w}from"./vue-multiselect.css_vue_type_style_index_0_src_true_lang-cff1377d.js";import"./SectionTitle-9e468a0a.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"columns-1"},B={class:"mt-4 ml-6"},j=e("span",null,"Name:  ",-1),q={style:{"font-weight":"900"}},L={class:"ml-6"},T=e("span",null,"Email:  ",-1),I={style:{"font-weight":"900"}},D={class:"ml-6"},z=e("span",null,"Status:  ",-1),H={style:{"font-weight":"900"}},P={class:"ml-6"},G=e("span",null,"User Role:  ",-1),J={style:{"font-weight":"900"}},K={class:"ml-6"},Q=e("span",null,"Airline(s):  ",-1),W={id:"UserEditForm"},X={class:"col-span-6 sm:col-span-4 mt-2"},Y={class:"col-span-6 sm:col-span-4 mt-4"},Z={class:"col-span-6 sm:col-span-4 mt-4"},ee={class:"col-span-6 sm:col-span-4 mt-4"},se=["name","value"],te={class:"col-span-6 sm:col-span-4 mt-4"},le={class:"col-span-6 sm:col-span-4 mt-4"},oe=e("div",{class:"mt-2 block w-full",style:{width:"300px"}},[e("label",{id:"toggle-label",class:"block font-medium text-sm text-gray-700",value:""},"User Status")],-1),ae=e("div",{style:{width:"300px",opacity:".5"}},[e("small",{id:"toggle-description"},"Set the user's status")],-1),ie={href:"/users"},re=e("span",{style:{width:"20px"}},null,-1),ne={components:{Multiselect:w},data(){let p=[];return this.airlines.forEach(s=>{p.push({name:s.name,id:s.id})}),{selectedAirlines:this.user.selectedAirlines,airlinesOptions:p}},methods:{}},be=Object.assign(ne,{__name:"EditUserForm",props:{user:{type:Object,default:()=>({})},roles:{type:Object,default:()=>({})},airlines:{type:Object,default:()=>({})},formMode:{type:String,default:()=>""}},setup(p){const s=p,l=V({first_name:s.user.first_name,last_name:s.user.last_name,email:s.user.email,selectedAirlines:s.user.selectedAirlines,selectedRole:s.user.selectedRole,status:s.user.hasOwnProperty("status")?s.user.status:!1}),b=r=>{s.user.selectedRole=r.target.options[r.target.selectedIndex].innerHTML},U=r=>{s.user.selectedAirlines.push(r)},x=r=>{l.status=r},A=()=>{s.formMode=="editUser"?l.put(route("users.update",s.user.id),{preserveScroll:!0}):l.post(route("users.store"),{preserveScroll:!0})};return(r,a)=>(m(),S(O,{onSubmitted:A},{title:d(()=>[u(n(s.formMode=="editUser"?"Update":"Add")+" User ",1)]),description:d(()=>[u(n(s.formMode=="editUser"?"Update":"Add")+" User information. ",1),e("div",F,[e("div",B,[j,e("span",q,n(s.formMode=="editUser"?s.user.first_name+" "+s.user.last_name:""),1)]),e("div",L,[T,e("span",I,n(s.formMode=="editUser"?s.user.email:""),1)]),e("div",D,[z,e("span",H,n(s.formMode=="editUser"?s.user.status:""),1)]),e("div",P,[G,e("span",J,n(s.user.selectedRole?s.user.selectedRole.toUpperCase():""),1)]),e("div",K,[Q,(m(!0),_(v,null,g(s.user.selectedAirlines,t=>y((m(),_("div",{key:t.id,style:{"font-weight":"900"}},n("  • "+t.name.toUpperCase()),1)),[[k,s.user.selectedAirlines&&s.user.selectedAirlines.length!==0]])),128))])])]),form:d(()=>[e("div",W,[e("div",X,[i(c,{for:"first_name",value:"First Name",style:{width:"300px"}}),i(h,{id:"first_name",modelValue:o(l).first_name,"onUpdate:modelValue":a[0]||(a[0]=t=>o(l).first_name=t),type:"text",class:"mt-2 block w-full",autocomplete:"First Name",style:{width:"300px"},required:""},null,8,["modelValue"]),i(f,{message:o(l).errors.first_name,class:"mt-2"},null,8,["message"])]),e("div",Y,[i(c,{for:"last_name",value:"Last Name",style:{width:"300px"}}),i(h,{id:"last_name",modelValue:o(l).last_name,"onUpdate:modelValue":a[1]||(a[1]=t=>o(l).last_name=t),type:"text",class:"mt-2 block w-full",autocomplete:"Last Name",style:{width:"300px"},required:""},null,8,["modelValue"]),i(f,{message:o(l).errors.last_name,class:"mt-2"},null,8,["message"])]),e("div",Z,[i(c,{for:"email",value:"Email Address",style:{width:"300px"}}),i(h,{id:"email",modelValue:o(l).email,"onUpdate:modelValue":a[2]||(a[2]=t=>o(l).email=t),type:"email",class:"mt-2 block w-full",autocomplete:"Email Address",style:{width:"300px"},required:""},null,8,["modelValue"]),i(f,{message:o(l).errors.email,class:"mt-2"},null,8,["message"])]),e("div",ee,[i(c,{for:"role",value:"User Role",style:{width:"300px"}}),y(e("select",{id:"role","onUpdate:modelValue":a[3]||(a[3]=t=>o(l).selectedRole=t),autocomplete:"User Role",style:{width:"300px",cursor:"pointer"},required:"",class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",onChange:b},[(m(!0),_(v,null,g(r.$page.props.roles,t=>(m(),_("option",{key:t.id,name:t.id,value:t.name},n(t.name.toUpperCase()),9,se))),128))],544),[[C,o(l).selectedRole]])]),e("div",te,[i(c,{for:"airlines",value:"Airlines",style:{width:"300px"}}),i(o(w),{modelValue:o(l).selectedAirlines,"onUpdate:modelValue":a[4]||(a[4]=t=>o(l).selectedAirlines=t),style:{width:"300px"},placeholder:"Select an Airline",label:"name","track-by":"id",options:r.airlinesOptions,multiple:!0,onSelect:a[5]||(a[5]=t=>U(t))},null,8,["modelValue","options"])]),e("div",le,[oe,ae,i(E,{modelValue:o(l).status,"onUpdate:modelValue":a[6]||(a[6]=t=>o(l).status=t),"on-label":"On","off-label":"Off",labelledby:"toggle-label",describedby:"toggle-description","false-value":"Inactive","true-value":"Active",classes:{container:"mt-2 focus:ring focus:ring-white-500 focus:ring-opacity-30"},onChange:a[7]||(a[7]=t=>x(t))},null,8,["modelValue"])])])]),actions:d(()=>[i(M,{on:o(l).recentlySuccessful,class:"mr-3"},{default:d(()=>[u(n(r.$page.props.flash.message),1)]),_:1},8,["on"]),e("a",ie,[i(N,{type:"button"},{default:d(()=>[u(" Cancel ")]),_:1})]),re,i($,{class:R({"opacity-25":o(l).processing}),disabled:o(l).processing},{default:d(()=>[u(" Save ")]),_:1},8,["class","disabled"])]),_:1}))}});export{be as default};
