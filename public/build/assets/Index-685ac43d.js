import{J as W,r as T,q as S,v as G,k as Q,O as B,d as o,b as n,w as r,F as N,o as a,a as e,u as g,s as X,l as h,m as v,f as u,g as O,n as U,t as y,e as ee,c as te,x as se}from"./app-262a2786.js";import{_ as le,a as ae}from"./AppLayout-ebba8cdf.js";import{_ as L}from"./DialogModal-370dc470.js";import{_ as D,a as oe,b as ne}from"./ItemsPerPage-63e35bdc.js";import{_ as j}from"./TextInput-bbe8df5b.js";import{_ as b}from"./SecondaryButton-d3277a63.js";import{_ as ie}from"./DangerButton-8bd23b7f.js";import{_ as ce}from"./InputError-5f2d5f55.js";import{_ as re}from"./InputLabel-0afd5ac9.js";import{C as de}from"./Checkbox-4bd22b28.js";import{D as ue}from"./debounce-455de282.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Modal-e32cf43d.js";const me=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," AirPortal JFK Terminal 4 | Templates ",-1),pe={class:"py-4"},he={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},fe={class:"flex justify-between ml-2"},_e={class:"messages-search-text-div"},xe=e("div",{class:"self-align-center ml-2 mb-2"},[e("small",null,"Search By:")],-1),ye={class:"mt-8 mr-2 messages-bulk-buttons"},be={id:"alertnotification",class:"flex justify-end items-center scala-alert text-white text-sm font-bold px-4 py-3",role:"alert"},ge=e("svg",{class:"fill-current w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"})],-1),ve=["innerHTML"],we={class:"px-4 py-3 justify-end"},Ce=e("title",null,"Close",-1),ke=e("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"},null,-1),Te=[Ce,ke],Be={key:0,id:"templatesTable",class:"bg-white overflow-hidden shadow-xl sm:rounded-lg templates-table"},Ee={class:"min-w-full divide-y divide-gray-200 border-separate"},$e={class:"bg-gray-200 border"},Ve=e("th",{scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"}," Preview ",-1),Me={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"},Fe={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"},Ne={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border",style:{width:"95px"}},Ae={key:0},ze=e("td",null," No data to display ",-1),He=[ze],Se=["onClick"],Oe=["src"],Ue={key:1,class:"svg-icon template-preview-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Le=e("path",{d:`M545 793.6H243.8c-11 0-20-9-20-20V250.4c0-11 9-20 20-20h432.4c11 0 20 9 20
                                            20v131.8c0 11 9 20 20 20s20-9 20-20V250.4c0-33.1-26.9-60-60-60H243.8c-33.1 0-60
                                            26.9-60 60v523.2c0 33.1 26.9 60 60 60H545c11 0 20-9 20-20s-8.9-20-20-20z`},null,-1),De=e("path",{d:`M834.6 789.8l-88.8-91.7c23.4-28.7 37.5-65.4 37.5-105.3 0-92.1-74.9-167-167-167s-167
                                            74.9-167 167 74.9 167 167 167c37.8 0 72.7-12.6 100.7-33.9l89 91.8c3.9 4 9.1 6 14.3 6 5
                                            0 10.1-1.9 14-5.7 7.8-7.6 8-20.3 0.3-28.2z m-218.4-69.9c-70 0-127-57-127-127s57-127
                                            127-127 127 57 127 127-57 127-127 127zM565 382.2c0-11-9-20-20-20H308.7c-11 0-20 9-20 20s9
                                            20 20 20H545c11.1 0 20-9 20-20zM443.5 493.5c0-11-9-20-20-20H308.7c-11 0-20 9-20 20s9 20 20
                                            20h114.8c11.1 0 20-8.9 20-20zM308.7 584.8c-11 0-20 9-20 20s9 20 20 20h61.7c11 0 20-9
                                            20-20s-9-20-20-20h-61.7z`},null,-1),je=[Le,De],Re={key:1,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},Ie=["src"],Pe={key:1,class:"svg-icon template-preview-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Ye=e("path",{d:`M545 793.6H243.8c-11 0-20-9-20-20V250.4c0-11 9-20 20-20h432.4c11 0 20 9 20
                                            20v131.8c0 11 9 20 20 20s20-9 20-20V250.4c0-33.1-26.9-60-60-60H243.8c-33.1 0-60
                                            26.9-60 60v523.2c0 33.1 26.9 60 60 60H545c11 0 20-9 20-20s-8.9-20-20-20z`},null,-1),qe=e("path",{d:`M834.6 789.8l-88.8-91.7c23.4-28.7 37.5-65.4 37.5-105.3 0-92.1-74.9-167-167-167s-167
                                            74.9-167 167 74.9 167 167 167c37.8 0 72.7-12.6 100.7-33.9l89 91.8c3.9 4 9.1 6 14.3 6 5
                                            0 10.1-1.9 14-5.7 7.8-7.6 8-20.3 0.3-28.2z m-218.4-69.9c-70 0-127-57-127-127s57-127
                                            127-127 127 57 127 127-57 127-127 127zM565 382.2c0-11-9-20-20-20H308.7c-11 0-20 9-20 20s9
                                            20 20 20H545c11.1 0 20-9 20-20zM443.5 493.5c0-11-9-20-20-20H308.7c-11 0-20 9-20 20s9 20 20
                                            20h114.8c11.1 0 20-8.9 20-20zM308.7 584.8c-11 0-20 9-20 20s9 20 20 20h61.7c11 0 20-9
                                            20-20s-9-20-20-20h-61.7z`},null,-1),Je=[Ye,qe],Ke=["onClick"],Ze={key:3,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},We=["onClick"],Ge={key:5,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},Qe=["onClick"],Xe={class:"px-6 py-4 ml-3 border-none"},et={class:"grid-cols-2"},tt={class:"template-pagination"},st={class:"mt-4 ml-4 mb-4"},lt={class:"mt-4 ml-4 mb-4"},at=e("div",{class:"template-upload-btn-box"},null,-1),ot={key:1},nt=e("p",null,"You do not have permission to access this page.",-1),it={class:"scala-modal-notes"},ct=e("br",null,null,-1),rt=e("span",{class:"scala-modal-warning"},"Any messages linked to deleted template(s) will be deleted as well.",-1),dt=e("br",null,null,-1),ut=e("span",{class:"scala-modal-warning"},"Note: Templates that have linked messages are highlighted red.",-1),mt={class:"min-w-full divide-y divide-gray-200 border-separate"},pt=e("thead",{class:"bg-gray-200 border"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"}," Preview "),e("th",{scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"}," Name "),e("th",{scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"}," Category ")])],-1),ht={class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},ft=["src"],_t={class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},xt={class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border"},yt=e("span",{style:{width:"20px"}},null,-1),bt=e("span",null,"Create Template:",-1),gt={class:"grid-cols-2"},vt={class:"px-2"},wt=e("svg",{class:"scala-secret-icon",width:"13",height:"13",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"nonzero","clip-rule":"nonzero",d:"M7.19792 3.06C5.60434 3.06 4.3125 4.34978 4.3125 5.9408V12.3472C4.3125 13.5362 3.34711 14.5 2.15625 14.5C0.965386 14.5 0 13.5362 0 12.3472C0 11.9164 0.349778 11.5672 0.78125 11.5672C1.21272 11.5672 1.5625 11.9164 1.5625 12.3472C1.5625 12.6746 1.82833 12.94 2.15625 12.94C2.48417 12.94 2.75 12.6746 2.75 12.3472V5.9408C2.75 3.48821 4.7414 1.5 7.19792 1.5C9.22509 1.5 10.9355 2.85396 11.4715 4.70551C13.9858 4.78385 16 6.84348 16 9.3728C16 9.41167 15.9972 9.44987 15.9917 9.48721C15.9972 9.52454 16 9.56274 16 9.6016V13.72C16 14.1508 15.6502 14.5 15.2187 14.5H7.19792C6.76644 14.5 6.41667 14.1508 6.41667 13.72V9.6016C6.41667 9.17082 6.76644 8.8216 7.19792 8.8216C8.79149 8.8216 10.0833 7.53182 10.0833 5.9408C10.0833 4.34978 8.79149 3.06 7.19792 3.06ZM14.4458 9.48719C14.4403 9.44986 14.4375 9.41166 14.4375 9.3728C14.4375 7.75995 13.2076 6.43389 11.6332 6.27844C11.48 8.3122 9.95487 9.96383 7.97917 10.3133V12.94H10.4271V11.2032C10.4271 10.7724 10.7769 10.4232 11.2083 10.4232C11.6398 10.4232 11.9896 10.7724 11.9896 11.2032V12.94H14.4375V9.6016C14.4375 9.56274 14.4403 9.52453 14.4458 9.48719Z"})],-1),Ct=e("span",{style:{width:"20px"}},null,-1),Ot={__name:"Index",props:{templates:{type:Object,default:()=>({})},templateField:{type:Object,default:()=>({})},templateFields:{type:Object,default:()=>({})},canReadTemplates:{type:Boolean,default:()=>!1},canEditTemplates:{type:Boolean,default:()=>!1},canDeleteTemplates:{type:Boolean,default:()=>!1},canAddTemplates:{type:Boolean,default:()=>!1},isSuperAdmin:{type:Boolean,default:()=>!1},filters:{type:Object,default:()=>({})},manifestUpload:{type:Boolean,default:()=>!1},thumbnailUpload:{type:Boolean,default:()=>!0},flash:{type:Object,default:()=>({})}},setup(i){const E=i,R=W(),$=T(!1),x=(l=null)=>{$.value=!0},I=()=>{$.value=!1},A=(l=!1)=>{m.clearErrors(),l===!0?(document.getElementById("full_url").style.display="none",m.full_url="verify"):m.full_url==""&&(m.setError("full_url","Full URL required."),document.getElementById("full_url").classList.add("form-error-input")),!(Object.keys(m.errors).length>0)&&(m.store_by_url=!0,m.post(route("templates.store"),{preserveScroll:!0,onError:()=>{x("addTemplateByUrl onError")},onSuccess:()=>{x("addTemplateByUrl onSuccess"),f()},onFinish:()=>{x("addTemplateByUrl onFinish"),f(),m.reset()}}))},f=(l=!1)=>{w.value=!1,V.value=!1,l&&P()};S(R.props,function(l){l!=null&&l.flash&&l.flash.message&&x()},{immediate:!0,deep:!0});const m=G("templateForm",{name:"",category:"",description:"",full_url:null,thumbnail:null,store_by_url:!1}),P=()=>{p.active=!1,p.allCheck=!1,d=[],C=[],w.value=!1,H(!1)},p=Q({active:!1,allCheck:!0});let d=[];const Y=l=>{let s=l.target.parentNode.parentNode.parentNode.parentNode;if(l.target.checked==!0)d.push(parseInt(l.target.value)),s.classList.add("scala-tr-selected");else{let c=d.indexOf(parseInt(l.target.value));d.splice(c,1),s.classList.remove("scala-tr-selected")}d.length>0?p.active=!0:(p.active=!1,p.allCheck=!0,d=[])},z=l=>{document.getElementById(l).click()},H=(l=!0)=>{let s=document.querySelectorAll('input[type="checkbox"]');for(let c=0;c<s.length;c++){let t=s[c].parentNode.parentNode.parentNode.parentNode;if(p.allCheck&&l)s[c].checked=!0,d.push(parseInt(s[c].value)),t.classList.add("scala-tr-selected");else{s[c].checked=!1;let _=d.indexOf(parseInt(s[c].value));d.splice(_,1),t.classList.remove("scala-tr-selected")}}p.allCheck&&l?(document.getElementById("selectAllButton").innerText="Unselect All",p.active=!0,p.allCheck=!1):(document.getElementById("selectAllButton").innerText="Select All",d=[],p.active=!1,p.allCheck=!0)},w=T(!1),V=T(!1);let C=[];const q=()=>{E.templates.data.forEach(l=>{let s=C.indexOf(l);d.includes(l.id)?s===-1&&C.push(l):s>-1&&C.splice(s,1)}),w.value=!0},J=()=>{d.length>0&&B.delete(route("templates.destroy",JSON.stringify(d)),{onError:()=>{x("onError")},onSuccess:()=>{x("onSuccess"),f()},onFinish:()=>{x("onFinish"),f(),m.reset()}})},K=()=>{V.value=!0},M=l=>{B.get(route("templates.edit",l))},F=l=>{let s=l;return s.indexOf("_")>-1?(s=s.split("_"),s=s[0].charAt(0).toUpperCase()+s[0].slice(1)+" "+s[1].charAt(0).toUpperCase()+s[1].slice(1)):s=s.charAt(0).toUpperCase()+s.slice(1),s};let k=T(E.filters.search);const Z=ue(l=>{B.get("/templates",{search:l},{replace:!0})},300);return S(k,Z),B.on("success",()=>{w.value=!1}),(l,s)=>{const c=se("tippy");return a(),o(N,null,[n(le,{title:"AirPortal JFK Terminal 4"},{header:r(()=>[me]),default:r(()=>[e("div",pe,[e("div",he,[e("div",fe,[e("div",_e,[xe,n(j,{id:"search",modelValue:g(k),"onUpdate:modelValue":s[0]||(s[0]=t=>X(k)?k.value=t:k=t),type:"text",placeholder:"Template Name, Message Name",class:"mb-6",style:{width:"400px",opacity:".75"}},null,8,["modelValue"])]),e("div",ye,[h(e("span",null,[n(b,{id:"selectAllButton",class:"scala-edit-btn slim-header-btn",disabled:Object.keys(E.templates).length===0,onClick:s[1]||(s[1]=t=>H())},{default:r(()=>[u(" Select All ")]),_:1},8,["disabled"]),n(b,{class:"scala-delete-btn slim-header-btn",disabled:p.active===!1||!i.canDeleteTemplates,onClick:s[2]||(s[2]=t=>q())},{default:r(()=>[u(" Delete ✓ ")]),_:1},8,["disabled"]),h(n(b,{class:"scala-edit-btn slim-header-btn",onClick:s[3]||(s[3]=t=>K())},{default:r(()=>[u(" Create ")]),_:1},512),[[v,i.canAddTemplates]])],512),[[v,i.canEditTemplates]])])]),h(e("div",be,[ge,e("p",{innerHTML:i.flash?i.flash.message:""},null,8,ve),e("span",we,[(a(),o("svg",{class:"fill-current h-6 w-6 text-indigo-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:s[4]||(s[4]=t=>I())},Te))])],512),[[v,$.value]]),i.canReadTemplates?(a(),o("div",Be,[e("table",Ee,[e("thead",$e,[e("tr",null,[Ve,e("th",Me,[n(D,{label:"Name",attribute:"name"})]),e("th",Fe,[n(D,{label:"Categories",attribute:"category"})]),h(e("th",Ne," SELECT ",512),[[v,i.canDeleteTemplates||i.canEditTemplates]])])]),e("tbody",null,[!i.templates.data||!i.templates.data.length?(a(),o("tr",Ae,He)):(a(!0),o(N,{key:1},O(i.templates.data,t=>(a(),o("tr",{key:t.id,class:U(t.manifest_verified===1?"cursor-pointer scala-tr":"cursor-pointer scala-tr-warn")},[i.canEditTemplates?h((a(),o("td",{key:0,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:_=>M(t.id)},[t.thumbnail_photo_url?(a(),o("img",{key:0,class:"template-thumbnail-image",src:t.thumbnail_photo_url,alt:"template-thumbnail"},null,8,Oe)):(a(),o("svg",Ue,je))],8,Se)),[[c,{content:t.manifest_verified===1?"Click to Edit: <b>"+t.name+"</b>":"Click to Fix: <b>"+t.name+"</b>"+t.manifest_errors}]]):h((a(),o("td",Re,[t.thumbnail_photo_url?(a(),o("img",{key:0,class:"template-thumbnail-image",src:t.thumbnail_photo_url,alt:"template-thumbnail"},null,8,Ie)):(a(),o("svg",Pe,Je))])),[[c,"You do not have permission to edit templates."]]),i.canEditTemplates?h((a(),o("td",{key:2,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:_=>M(t.id)},[u(y(t.name),1)],8,Ke)),[[c,{content:t.manifest_verified===1?"Click to Edit: <b>"+t.name+"</b>":"Click to Fix: <b>"+t.name+"</b>"+t.manifest_errors}]]):h((a(),o("td",Ze,[u(y(t.name),1)])),[[c,"You do not have permission to edit templates."]]),i.canEditTemplates?h((a(),o("td",{key:4,class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:_=>M(t.id)},[u(y(F(t.category)),1)],8,We)),[[c,{content:t.manifest_verified===1?"Click to Edit: <b>"+t.name+"</b>":"Click to Fix: <b>"+t.name+"</b>"+t.manifest_errors}]]):h((a(),o("td",Ge,[u(y(F(t.category)),1)])),[[c,"You do not have permission to edit templates."]]),h((a(),o("td",{class:"border cursor-pointer",onClick:_=>z("checkbox"+t.id)},[e("div",Xe,[n(de,{id:"checkbox"+t.id,value:t.id.toString(),onClick:_=>z("checkbox"+t.id),onChange:s[5]||(s[5]=_=>Y(_))},null,8,["id","value","onClick"])])],8,Qe)),[[v,i.canDeleteTemplates||i.canEditTemplates],[c,{content:"Click to select template"}]])],2))),128))])]),e("div",et,[e("div",tt,[e("div",st,[n(oe)]),e("div",lt,[n(ne,{links:i.templates.links},null,8,["links"])])]),at])])):(a(),o("div",ot,[nt,n(ae,{href:l.route("planners.index",{_query:{today_only:0,search_by:"open",active_only:1,sort:"checkindesk"}}),active:l.route().current("planners.index")},{default:r(()=>[u(" Return to Main Page ")]),_:1},8,["href","active"])]))])])]),_:1}),n(L,{show:w.value,onClose:s[7]||(s[7]=t=>f())},{content:r(()=>[e("div",it,[u(" Are you sure you want to delete "+y(g(d).length>1?"these templates?":"this template?"),1),ct,rt,dt,ut]),e("table",mt,[pt,e("tbody",null,[(a(!0),o(N,null,O(g(C),t=>(a(),o("tr",{key:t.id,class:U(t.messages.length>0?"scala-tr-warn":"")},[e("td",ht,[t.thumbnail_photo_url?(a(),o("img",{key:0,class:"template-thumbnail-image",src:t.thumbnail_photo_url,alt:"template-thumbnail"},null,8,ft)):ee("",!0)]),e("td",_t,y(t.name),1),e("td",xt,y(F(t.category)),1)],2))),128))])])]),footer:r(()=>[n(b,{class:"scala-delete-btn",onClick:s[6]||(s[6]=t=>f())},{default:r(()=>[u(" NO ")]),_:1}),yt,n(ie,{onClick:J},{default:r(()=>[u(" YES ")]),_:1})]),_:1},8,["show"]),n(L,{show:V.value,"max-width":"md",onClose:s[11]||(s[11]=t=>f())},{title:r(()=>[bt]),content:r(()=>[e("div",gt,[e("div",vt,[n(re,{for:"full_url",value:"Full URL"}),n(j,{id:"full_url",modelValue:g(m).full_url,"onUpdate:modelValue":s[8]||(s[8]=t=>g(m).full_url=t),name:"full_url",type:"text",class:"block w-full"},null,8,["modelValue"]),n(ce,{message:g(m).errors.full_url},null,8,["message"])])])]),footer:r(()=>[h((a(),te(b,{class:"scala-secret-btn",style:{position:"absolute",left:"20px"},onClick:s[9]||(s[9]=t=>A(!0))},{default:r(()=>[wt,u(" test ")]),_:1})),[[v,i.isSuperAdmin],[c,"Click to test the manifest.json validator"]]),n(b,{class:"scala-delete-btn",onClick:s[10]||(s[10]=t=>f())},{default:r(()=>[u(" Cancel ")]),_:1}),Ct,n(b,{class:"scala-primary-btn",onClick:A},{default:r(()=>[u(" Create ")]),_:1})]),_:1},8,["show"])],64)}}};export{Ot as default};
