import{U as ne,J as ae,r as E,i as oe,q as T,k as ie,O as V,c as ce,w as d,o as u,a as s,b as n,u as p,s as R,f as i,t as O,n as Q,l as c,m as h,d as f,e as W,F as re,g as de,x as ue}from"./app-262a2786.js";import{_ as pe,a as fe}from"./AppLayout-ebba8cdf.js";import{_ as v}from"./SecondaryButton-d3277a63.js";import{_ as H}from"./TextInput-bbe8df5b.js";import{C as me}from"./Checkbox-4bd22b28.js";import{_ as N}from"./PrimaryButton-a709ea04.js";import{_ as P,a as he,b as ye}from"./ItemsPerPage-63e35bdc.js";import{D as be}from"./debounce-455de282.js";import"./_plugin-vue_export-helper-c27b6911.js";const xe=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," AirPortal JFK Terminal 4 | Planners ",-1),ve={class:"py-4"},_e={class:"max-w-9xl mx-auto sm:px-6 lg:px-8"},ke={class:"flex justify-between ml-2"},ge={class:"planners-search-text-div"},Ce=s("div",{style:{"margin-bottom":"2px"},class:"self-align-center ml-2 mb-2"},[s("small",null,"Search:")],-1),we={class:"planners-search-time-div"},Be={style:{"margin-bottom":"2px"},class:"self-align-center ml-2 mb-2"},Oe={class:"planners-search-datetime-div"},$e={class:"planners-bulk-buttons-slim"},Ee={key:0,class:"mt-8 mr-2"},Pe={class:"mt-8 mr-2 planners-bulk-buttons-wide"},Se={key:0,class:"mt-8 mr-2"},Ie={id:"alertnotification",class:"flex justify-end items-center scala-alert text-white text-sm font-bold px-4 py-3",role:"alert"},Te=s("svg",{class:"fill-current w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[s("path",{d:"M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z"})],-1),Ae=["innerHTML"],Me={class:"px-4 py-3 justify-end"},Ve=s("title",null,"Close",-1),Ne=s("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"},null,-1),je=[Ve,Ne],Le={key:0,id:"PlannersTable",class:"bg-white overflow-hidden shadow-xl sm:rounded-lg planners-table"},Fe={class:"min-w-full divide-y divide-gray-200 border-separate"},Re={class:"bg-gray-200 border"},He={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border",style:{"max-width":"130px"}},Je={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border tight-cols"},Ue={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"},ze={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"},qe={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border tight-cols"},Ke={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border"},Ye={scope:"col",class:"px-6 py-3 text-xs font-bold text-left text-gray-700 uppercase border",style:{width:"95px"}},Ge={key:0},Qe=s("td",null," No data to display ",-1),We=[Qe],Xe=["id"],Ze=["onClick"],De=["onClick"],et=["onClick"],tt=["onClick"],lt=["onClick"],st=["onClick"],nt=["onClick"],at={class:"px-6 py-4 ml-3 border-none"},ot={style:{display:"flex"}},it={class:"mt-4 ml-4 mb-4"},ct={class:"mt-4 ml-4 mb-4"},rt={key:1},dt=s("p",null,"You do not have permission to access this page.",-1),_t={__name:"Index",props:{planners:{type:Object,default:()=>({})},planner:{type:Object,default:()=>({})},canReadPlanners:{type:Boolean,default:()=>!1},canEditPlanners:{type:Boolean,default:()=>!1},canAddPlanners:{type:Boolean,default:()=>!1},canDeletePlanners:{type:Boolean,default:()=>!1},isSuperAdmin:{type:Boolean,default:()=>!1},filters:{type:Object,default:()=>({})}},setup(y){const _=y;ne({onShow(l){if(l.reference.id.split("_")[0]==="planner")return!1}});const J=ae(),j=E(!1);let L=E("");const F=oe({get(){return L.value?L.value:J.props.flash.message},set(l){L.value=l}}),U=()=>{j.value=!0,document.getElementById("alertnotification")&&(document.getElementById("alertnotification").style="display:justify;")},X=()=>{j.value=!1,document.getElementById("alertnotification")&&(document.getElementById("alertnotification").style="display:none;")};T(J.props,function(l){l!=null&&l.flashMessage&&U()},{immediate:!0,deep:!0}),T(F,(l,e)=>{l&&U()},{immediate:!0,deep:!0}),E(!1);let g=E(_.filters.search),C=E(_.filters.checkin_open),w=E(_.filters.checkin_close);const B=function(l,e){localStorage.setItem(l,JSON.stringify(e))},S=function(l){return localStorage.getItem(l)||B(l,[]),JSON.parse(localStorage.getItem(l))},A=function(l="false"){l?(localStorage.removeItem(l),B(l,[])):localStorage.clear()},Z=()=>{r.active=!1,r.allCheck=!1,a=[],A("checkedBoxes")};let M=new URL(document.location);M.searchParams.get("sort")===null&&A("checkedBoxes");const r=ie({active:!1,allCheck:!0});let a=S("checkedBoxes");const D=l=>{if(a=S("checkedBoxes"),l.target.checked==!0)a.push(parseInt(l.target.value));else{let e=a.indexOf(parseInt(l.target.value));a.splice(e,1)}a.length>0?(r.active=!0,B("checkedBoxes",a)):(r.active=!1,r.allCheck=!0,a=[],A("checkedBoxes"))},k=(l=null)=>{l&&(a=[l]),a.length>0&&(B("clearBoxes",!0),V.get(route("planners.edit",JSON.stringify(a))))},z=()=>{B("clearBoxes",!0),V.get(route("planners.create"))},q=l=>{document.getElementById(l).click()},K=(l=!0)=>{let e=document.querySelectorAll('input[type="checkbox"]');a=S("checkedBoxes");for(let o=0;o<e.length;o++){let t=e[o].parentNode.parentNode.parentNode.parentNode;if(r.allCheck&&l)e[o].checked=!0,a.push(parseInt(e[o].value)),t.classList.add("scala-tr-selected");else{e[o].checked=!1;let m=a.indexOf(parseInt(e[o].value));a.splice(m,1),t.classList.remove("scala-tr-selected")}}r.allCheck&&l?(document.getElementById("selectAllButton").innerText="Unselect All",r.active=!0,r.allCheck=!1,B("checkedBoxes",a)):(document.getElementById("selectAllButton").innerText="Select All",a=[],r.active=!1,r.allCheck=!0,A("checkedBoxes"))},Y=()=>{b=!b,x=!1,$()},G=()=>{x=!x,b=!1,$()},ee=()=>{I=!I,$()},$=()=>{let l,e,o="";w.value!=="undefined"&&(l=w.value),C.value!=="undefined"&&(e=C.value),g.value!=="undefined"&&(o=g.value),V.get("/planners",{search:o,checkin_close:b?"":l,checkin_open:b?"":e,search_by:I?"open":"close",today_only:b?"1":"0",active_only:x?"1":"0"},{replace:!0})};T(g,be(function(l){$()},300)),T(C,function(l){$()}),T(w,function(l){$()});let b=M.searchParams.get("today_only")==="1"||_.filters.today_only==="1",x=M.searchParams.get("active_only")==="1"||_.filters.active_only==="1",I=!(M.searchParams.get("search_by")==="close"||_.filters.search_by==="close"),te=I?"Open":"Close",le=I?"search-by-open-btn":"search-by-close-btn";const se=l=>{let e="";return typeof l=="object"?(e+="Problem updating template! (records with issues marked in red)<br/>",Object.entries(l).forEach(o=>{const[t,m]=o;e+=m}),e):l};return V.on("success",()=>{S("clearBoxes")==!0&&Z(),a=S("checkedBoxes"),a.length>0?(a.forEach(l=>{document.getElementById(l)&&(document.getElementById(l).checked=!0)}),r.active=!0):r.active=!1,B("checkedBoxes",a)}),(l,e)=>{const o=ue("tippy");return u(),ce(pe,{title:"AirPortal JFK Terminal 4"},{header:d(()=>[xe]),default:d(()=>[s("div",ve,[s("div",_e,[s("div",ke,[s("div",ge,[Ce,n(H,{id:"search",modelValue:p(g),"onUpdate:modelValue":e[0]||(e[0]=t=>R(g)?g.value=t:g=t),type:"text",placeholder:"Check In Desk, Flight Identity...",class:"mb-4 planners-search-text-input",style:{opacity:".75"}},null,8,["modelValue"])]),s("div",we,[s("div",Be,[s("small",null,[i("Search By "),n(v,{id:"searchByOpenButton",class:Q(p(le)),disabled:p(x),onClick:e[1]||(e[1]=t=>ee())},{default:d(()=>[i(O(p(te)),1)]),_:1},8,["class","disabled"]),c(n(v,{class:"today-only-btn",onClick:e[2]||(e[2]=t=>Y())},{default:d(()=>[i("Today Only ")]),_:1},512),[[h,!p(b)]]),c(n(N,{class:"today-only-btn",onClick:e[3]||(e[3]=t=>Y())},{default:d(()=>[i("Today Only ")]),_:1},512),[[h,p(b)]]),c(n(v,{class:"active-only-btn",onClick:e[4]||(e[4]=t=>G())},{default:d(()=>[i("Active ")]),_:1},512),[[h,!p(x)]]),c(n(N,{class:"active-only-btn",onClick:e[5]||(e[5]=t=>G())},{default:d(()=>[i("Active ")]),_:1},512),[[h,p(x)]])])]),s("div",Oe,[n(H,{id:"checkinOpenDate",modelValue:p(C),"onUpdate:modelValue":e[6]||(e[6]=t=>R(C)?C.value=t:C=t),type:"datetime-local","format-value":"yyyy-MM-ddTHH:mm",placeholder:"Start Date / Time",disabled:p(b)||p(x),onfocus:"(this.type='datetime-local')",onblur:"if(!this.value)this.type='text'",autoblur:"",class:"mb-4 planners-search-datetime-input",style:{opacity:".75","margin-right":"5px"}},null,8,["modelValue","disabled"]),n(H,{id:"checkinCloseDate",modelValue:p(w),"onUpdate:modelValue":e[7]||(e[7]=t=>R(w)?w.value=t:w=t),type:"datetime-local",placeholder:"End Date / Time","format-value":"yyyy-MM-ddTHH:mm",disabled:p(b)||p(x),onfocus:"(this.type='datetime-local')",onblur:"if(!this.value)this.type='text'",autoblur:"",class:"mb-4 planners-search-datetime-input",style:{opacity:".75"}},null,8,["modelValue","disabled"])]),s("div",$e,[c(s("span",null,[n(v,{id:"selectAllButton",class:"scala-edit-btn slim-header-btn planners-select-all-btn",disabled:Object.keys(_.planners.data).length===0,onClick:e[8]||(e[8]=t=>K())},{default:d(()=>[i(" Select All ")]),_:1},8,["disabled"]),n(v,{class:"slim-header-btn planners-edit-btn scala-edit-btn",disabled:r.active===!1,onClick:e[9]||(e[9]=t=>k())},{default:d(()=>[i(" Edit ✓ ")]),_:1},8,["disabled"])],512),[[h,y.canEditPlanners]]),y.canAddPlanners?(u(),f("span",Ee,[c(n(N,{class:"slim-header-btn planners-create-btn",style:{"margin-left":"5px"},onClick:e[10]||(e[10]=t=>z())},{default:d(()=>[i(" Create ")]),_:1},512),[[h,r.active===!1]]),c(n(v,{class:"slim-header-btn planners-create-btn",disabled:""},{default:d(()=>[i(" Create ")]),_:1},512),[[h,r.active===!0]])])):W("",!0)])]),s("div",Pe,[c(s("span",null,[n(v,{id:"selectAllButton",class:"scala-edit-btn slim-header-btn planners-select-all-btn",disabled:Object.keys(_.planners.data).length===0,onClick:e[11]||(e[11]=t=>K())},{default:d(()=>[i(" Select All ")]),_:1},8,["disabled"]),n(v,{class:"slim-header-btn planners-edit-btn",disabled:r.active===!1,onClick:e[12]||(e[12]=t=>k())},{default:d(()=>[i(" Edit ✓ ")]),_:1},8,["disabled"])],512),[[h,y.canEditPlanners]]),y.canAddPlanners?(u(),f("span",Se,[c(n(N,{class:"slim-header-btn planners-create-btn",style:{"margin-left":"5px"},onClick:e[13]||(e[13]=t=>z())},{default:d(()=>[i(" Create ")]),_:1},512),[[h,r.active===!1]]),c(n(v,{class:"slim-header-btn planners-create-btn",disabled:""},{default:d(()=>[i(" Create ")]),_:1},512),[[h,r.active===!0]])])):W("",!0)])]),c(s("div",Ie,[Te,s("p",{innerHTML:p(F)?se(p(F)):""},null,8,Ae),s("span",Me,[(u(),f("svg",{class:"fill-current h-6 w-6 text-indigo-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",onClick:e[14]||(e[14]=t=>X())},je))])],512),[[h,j.value]]),y.canReadPlanners?(u(),f("div",Le,[s("table",Fe,[s("thead",Re,[s("tr",null,[s("th",He,[n(P,{label:"Check-In Desk",attribute:"checkindesk"})]),s("th",Je,[n(P,{label:"Flight Identity",attribute:"flight_identity"})]),s("th",Ue,[n(P,{label:"Open Date",attribute:"converted_open"})]),s("th",ze,[n(P,{label:"Close Date",attribute:"converted_close"})]),s("th",qe,[n(P,{label:"Class Code",attribute:"class_code"})]),s("th",Ke,[n(P,{label:"Label",attribute:"label"})]),c(s("th",Ye," SELECT ",512),[[h,y.canEditPlanners]])])]),s("tbody",null,[!y.planners.data||!y.planners.data.length?(u(),f("tr",Ge,We)):(u(!0),f(re,{key:1},de(y.planners.data,t=>c((u(),f("tr",{id:t.manual_override_id===null?"planner_"+t.id:"override_"+t.id,key:t.manual_override_id===null?"planner_"+t.id:"override_"+t.id,class:Q(t.manual_override_id===null?"cursor-pointer scala-tr planner-row-color":"cursor-pointer scala-tr planner-row-color-override")},[c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.checkindesk),1)],8,Ze)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.flight_identity),1)],8,De)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.converted_open.value),1)],8,et)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.converted_close.value),1)],8,tt)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.class_code),1)],8,lt)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"px-6 py-4 text-sm font-medium text-gray-800 whitespace-nowrap border cursor-pointer",onClick:m=>k(t.id)},[i(O(t.label),1)],8,st)),[[o,{content:"Click to edit planner"}]]),c((u(),f("td",{class:"border cursor-pointer",onClick:m=>q("checkbox"+t.id)},[s("div",at,[n(me,{id:"checkbox"+t.id,value:t.id.toString(),onClick:m=>q("checkbox"+t.id),onChange:e[15]||(e[15]=m=>D(m))},null,8,["id","value","onClick"])])],8,nt)),[[h,y.canEditPlanners],[o,{content:"Click to select planner"}]])],10,Xe)),[[o,t.manual_override!==null?"Planner Override Exists!<br />• Overwritten by: <b>"+t.manual_override.actor_email+"</b>":"Click to edit planner"]])),128))])]),s("div",ot,[s("div",it,[n(he)]),s("div",ct,[n(ye,{links:y.planners.links},null,8,["links"])])])])):(u(),f("div",rt,[dt,n(fe,{href:l.route("planners.index",{_query:{today_only:0,search_by:"open",active_only:1,sort:"checkindesk"}}),active:l.route().current("planners.index")},{default:d(()=>[i(" Return to Main Page ")]),_:1},8,["href","active"])]))])])]),_:1})}}};export{_t as default};
